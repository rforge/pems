utils:::menuInstallLocal()
require(loa)
#setups
data(quake)
panel.new<- function(x, y, ...){
        #xy <- kde2d(x, y)
        xy <- kde2d(x, y, lims = c(map$xlim, map$ylim))
        xy <- con2tr(xy)
        panel.contourplot(xy$x, xy$y, xy$z,
                    subscripts=seq(nrow(xy)),
                    contour=TRUE, region=FALSE)
}
#plot whatever and get map from it...
googleMap(~lat*long, data = quakes) 
map <- getMapArg()
#plot
googleMap(~lat*long, data=quakes, panel=panel.new)
#setups
require(MASS)
data(quake)
panel.new<- function(x, y, ...){
        #xy <- kde2d(x, y)
        xy <- kde2d(x, y, lims = c(map$xlim, map$ylim))
        xy <- con2tr(xy)
        panel.contourplot(xy$x, xy$y, xy$z,
                    subscripts=seq(nrow(xy)),
                    contour=TRUE, region=FALSE)
}
#plot whatever and get map from it...
googleMap(~lat*long, data = quakes) 
map <- getMapArg()
#plot
googleMap(~lat*long, data=quakes, panel=panel.new)
googleMap(~lat*long, data=quakes, panel=panel.new, cuts=10)
googleMap(~lat*long, data=quakes, panel=panel.new, cuts=20)
googleMap(~lat*long, data=quakes, panel=panel.new, at=20)
#setups
require(MASS)
data(quake)
panel.new<- function(x, y, ...){
        #xy <- kde2d(x, y)
        xy <- kde2d(x, y, lims = c(map$xlim, map$ylim))
        xy <- con2tr(xy)
        panel.contourplot(xy$x, xy$y, xy$z, ...,
                    subscripts=seq(nrow(xy)),
                    contour=TRUE, region=FALSE)
}
#plot whatever and get map from it...
googleMap(~lat*long, data = quakes) 
map <- getMapArg()
#plot
googleMap(~lat*long, data=quakes, panel=panel.new)
require(MASS)
data(quake)
panel.new<- function(x, y, ..., subscripts){
        #xy <- kde2d(x, y)
        xy <- kde2d(x, y, lims = c(map$xlim, map$ylim))
        xy <- con2tr(xy)
        panel.contourplot(xy$x, xy$y, xy$z, ...,
                    subscripts=seq(nrow(xy)),
                    contour=TRUE, region=FALSE)
}
#plot whatever and get map from it...
googleMap(~lat*long, data = quakes) 
map <- getMapArg()
#plot
googleMap(~lat*long, data=quakes, panel=panel.new)
require(MASS)
data(quake)
panel.new<- function(x, y, cut=10){
        #xy <- kde2d(x, y)
        xy <- kde2d(x, y, lims = c(map$xlim, map$ylim))
        xy <- con2tr(xy)
        panel.contourplot(xy$x, xy$y, xy$z, ...,
                    cut = cut,
                    subscripts=seq(nrow(xy)),
                    contour=TRUE, region=FALSE)
}
googleMap(~lat*long, data=quakes, panel=panel.new)
#setups
require(MASS)
data(quake)
panel.new<- function(x, y){
        #xy <- kde2d(x, y)
        xy <- kde2d(x, y, lims = c(map$xlim, map$ylim))
        xy <- con2tr(xy)
        panel.contourplot(xy$x, xy$y, xy$z, 
                    subscripts=seq(nrow(xy)),
                    contour=TRUE, region=FALSE)
}
#plot whatever and get map from it...
googleMap(~lat*long, data = quakes) 
map <- getMapArg()
#plot
googleMap(~lat*long, data=quakes, panel=panel.new)
head(quakes)
googleMap(mag~lat*long, data=quakes, panel=panel.new)
#setups
require(MASS)
data(quake)
panel.new<- function(x, y, ...){
        #xy <- kde2d(x, y)
        xy <- kde2d(x, y, lims = c(map$xlim, map$ylim))
        xy <- con2tr(xy)
        panel.contourplot(xy$x, xy$y, xy$z, 
                    subscripts=seq(nrow(xy)),
                    contour=TRUE, region=FALSE)
}
#plot whatever and get map from it...
googleMap(~lat*long, data = quakes) 
map <- getMapArg()
#plot
googleMap(mag~lat*long, data=quakes, panel=panel.new)
googleMap(mag~lat*long, data=quakes, panel=panel.new, cut=20)
googleMap(mag~lat*long, data=quakes, panel=panel.new, cuts=20)
googleMap(mag~lat*long, data=quakes, panel=panel.new, at = pretty(quakes$mag, 20))
require(MASS)
data(quake)
panel.new<- function(x, y, ..., superscripts){
        #xy <- kde2d(x, y)
        xy <- kde2d(x, y, lims = c(map$xlim, map$ylim))
        xy <- con2tr(xy)
        panel.contourplot(xy$x, xy$y, xy$z, ...
                    subscripts=seq(nrow(xy)),
                    contour=TRUE, region=FALSE)
}
#plot whatever and get map from it...
googleMap(~lat*long, data = quakes) 
map <- getMapArg()
#plot
googleMap(mag~lat*long, data=quakes, panel=panel.new)
#setups
require(MASS)
data(quake)
panel.new<- function(x, y, ..., superscripts){
        #xy <- kde2d(x, y)
        xy <- kde2d(x, y, lims = c(map$xlim, map$ylim))
        xy <- con2tr(xy)
        panel.contourplot(xy$x, xy$y, xy$z, ...,
                    subscripts=seq(nrow(xy)),
                    contour=TRUE, region=FALSE)
}
#plot whatever and get map from it...
googleMap(~lat*long, data = quakes) 
map <- getMapArg()
#plot
googleMap(mag~lat*long, data=quakes, panel=panel.new)
#setups
require(MASS)
data(quake)
panel.new<- function(x, y, ..., subscripts){
        #xy <- kde2d(x, y)
        xy <- kde2d(x, y, lims = c(map$xlim, map$ylim))
        xy <- con2tr(xy)
        panel.contourplot(xy$x, xy$y, xy$z, ...,
                    subscripts=seq(nrow(xy)),
                    contour=TRUE, region=FALSE)
}
#plot whatever and get map from it...
googleMap(~lat*long, data = quakes) 
map <- getMapArg()
#plot
googleMap(mag~lat*long, data=quakes, panel=panel.new)
#setups
require(MASS)
data(quake)
panel.new<- function(x, y, ..., sneaky = 7){
        #xy <- kde2d(x, y)
        xy <- kde2d(x, y, lims = c(map$xlim, map$ylim))
        xy <- con2tr(xy)
        panel.contourplot(xy$x, xy$y, xy$z,
                    at = pretty(xy$z, sneaky), 
                    subscripts=seq(nrow(xy)),
                    contour=TRUE, region=FALSE)
}
#plot whatever and get map from it...
googleMap(~lat*long, data = quakes) 
map <- getMapArg()
#plot
googleMap(mag~lat*long, data=quakes, panel=panel.new)
googleMap(mag~lat*long, data=quakes, panel=panel.new, sneaky=22)
googleMap(~lat*long, data=quakes, panel=panel.new, sneaky=22)
googleMap(~lat*long, data=quakes, panel=panel.new, sneaky=22, alpha=0.5)
googleMap(~lat*long, data=quakes, panel=panel.new, sneaky=22, col="red")
map <- makeMapArg(quakes$lat, quakes$long, maptype="satellite")
#I would uses the actual data rather than a centre and zoom where possible
googleMap(mag~lat*long, data=quakes, panel=panel.new)
googleMap(~lat*long, data=quakes, panel=panel.new)
googleMap(~lat*long, data=quakes, panel=panel.new, sneaky =15)
require(MASS)
data(quake)
panel.new<- function(x, y, ..., sneaky = 7){
        #xy <- kde2d(x, y)
        xy <- kde2d(x, y, lims = c(map$xlim, map$ylim))
        xy <- con2tr(xy)
        panel.contourplot(xy$x, xy$y, xy$z,...,
                    at = pretty(xy$z, sneaky), 
                    subscripts=seq(nrow(xy)),
                    contour=TRUE, region=FALSE)
}
googleMap(~lat*long, data=quakes, panel=panel.new, sneaky =15)
?panel.superpose
#setups
require(MASS)
data(quake)
panel.new<- function(x, y, ..., sneaky = 7){
        #xy <- kde2d(x, y)
        xy <- kde2d(x, y, lims = c(map$xlim, map$ylim))
        xy <- con2tr(xy)
        panel.contourplot(xy$x, xy$y, xy$z,
                    at = pretty(xy$z, sneaky), 
                    subscripts=seq(nrow(xy)),
                    contour=TRUE, region=FALSE)
}
#plot whatever and get map from it...
googleMap(~lat*long, data = quakes) 
map <- getMapArg()
#plot
googleMap(mag~lat*long, data=quakes, panel=panel.new)
#working as you previously did
#setup would be the same 
#then
map <- makeMapArg(quakes$lat, quakes$long, maptype="satellite")
#I would uses the actual data rather than a centre and zoom where possible
googleMap(~lat*long, data=quakes, panel=panel.new)
#two extra bits here
#1: change to panel.new
#I added an extra arg so you can change the number of contours.
#see
googleMap(~lat*long, data=quakes, panel=panel.new, sneaky =15)
test <- quakes
test$case <- if(test$long<175 & test$lat>-25,1,2)
test$case <- ifelse(test$long<175 & test$lat>-25,1,2)
quake$case <- ifelse(quakes$long<175 & quakes$lat>-25,1,2)
quakes$case <- ifelse(quakes$long<175 & quakes$lat>-25,1,2)
googleMap(~lat*long, data=quakes, col=quakes$case)
googleMap(~lat*long, data=quakes, col=quakes$case, cex=0.2)
googleMap(~lat*long, data=quakes, groups=quakes$case, panel.groups=c("panel.xyplot", "panel.new"))
googleMap(~lat*long, data=quakes, groups=quakes$case, panel.groups=c("panel.xyplot", "panel.xyplot"))
googleMap(~lat*long, data=quakes, groups=quakes$case)
googleMap(~lat*long, data=quakes, groups=quakes$case, panel.groups=c("panel.xyplot", "panel.xyplot"))
googleMap(~lat*long, data=quakes, panel.groups=c("panel.xyplot"))
googleMap(~lat*long, data=quakes, panel.groups=c("panel.xyplot", "panel.xyplot"))
googleMap(~lat*long, data=quakes, panel.groups=c("panel.xyplot", "panel.new"))
googleMap(~lat*long, data=quakes, group= quakes$case, panel.groups=c("panel.xyplot", "panel.new"))
googleMap(~lat*long, data=quakes, group= quakes$case, panel.groups=c("panel.xyplot"))
edit(googlePlot)
edit(googleMap)
xyplot(lat~long, data=quakes, group= quakes$case, panel.groups=c("panel.xyplot", "panel.new"))
xyplot(lat~long, data=quakes, group= quakes$case, panel =panel.superpose, panel.groups=c("panel.xyplot", "panel.new"))
xyplot(lat~long, data=quakes, group= quakes$case, panel =panel.superpose, panel.groups=c(panel.xyplot, panel.new))
objects()
xyplot(lat~long, data=quakes, group= quakes$case, panel =panel.superpose, panel.groups=c(panel.xyplot, panel.xyplot))
xyplot(lat~long, data=quakes, groups= quakes$case, panel =panel.superpose, panel.groups=c("panel.xyplot", "panel.new"))
googleMap(~lat*long, data=quakes, groups=quakes$case, panel=panel.superpose, panel.groups=c("panel.xyplot", "panel.new"))
?panel.superpose
?panel.superpose
edit(lattice:::panel.superpose)
panel.test <- edit(lattice:::panel.superpose)
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, groups=quakes$case, panel=panel.test, panel.groups=c("panel.xyplot", "panel.new"))
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, groups=quakes$case, panel=panel.test, panel.groups=c("panel.xyplot", "panel.new"))
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, groups=quakes$case, panel=panel.test, panel.groups=c("panel.xyplot", "panel.new"))
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, groups=quakes$case, panel=panel.test)
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, groups=quakes$case, panel=panel.test)
googleMap(~lat*long, data=quakes, groups=quakes$case, panel=panel.test, panel.groups=c("panel.xyplot", "panel.new"))
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, groups=quakes$case, panel=panel.test, panel.groups=c("panel.xyplot", "panel.new"))
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, groups=quakes$case, panel=panel.test)
googleMap(~lat*long, data=quakes, groups=quakes$case, panel=panel.superpose, panel.groups=c("panel.xyplot", "panel.new"))
panel.test <- panel.superpose
googleMap(~lat*long, data=quakes, groups=quakes$case, panel=panel.test, panel.groups=c("panel.xyplot", "panel.new"))
panel.test <- edit(panel.test)
edit(googleMap)
panel.test <- function(..., group){
if(group==1) panel.xyplot(...)
if(group==2) panel.new(...)
}
googleMap(~lat*long, data=quakes, groups=quakes$case, panel=panel.superpose, panel.groups=panel.test)
panel.test <- function(..., groups){
if(groups==1) panel.xyplot(...)
if(groups==2) panel.new(...)
}
googleMap(~lat*long, data=quakes, groups=quakes$case, panel=panel.superpose, panel.groups=panel.test)
panel.test <- function(...){
if(groups==1) panel.xyplot(...)
if(groups==2) panel.new(...)
}
googleMap(~lat*long, data=quakes, groups=quakes$case, panel=panel.superpose, panel.groups=panel.test)
googleMap(~lat*long, data=quakes, panel=panel.superpose, panel.groups=panel.test)
edit(googleMap)
panel.test <- function(..., groups){
            temp <- list(...)
            if (!is.null(subscripts)) {
                temp <- lapply(temp, function(x) x <- if (length(x) > 
                  1) x[subscripts] else x)
                subscripts <- 1:length(subscripts)
            }
            temp <- listUpdate(list(x = x, y = y, z = temp$z, 
                at = at, col.regions = col.regions, subscripts = subscripts), 
                temp)
            do.call(panel, temp)
}
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, panel=panel.test, panelz=quakes$case)
googleMap(~lat*long, data=quakes, panel=panel.test, groups=quakes$case)
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, panel=panel.test, groups=quakes$case)
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, panel=panel.test, groups=quakes$case)
quakes$case
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, panel=panel.test, groups=quakes$case)
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, panel=panel.test, groups=quakes$case)
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, panel=panel.test, groups=quakes$case)
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, panel=panel.test, groups=quakes$case)
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, panel=panel.test, groups=quakes$case)
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, panel=panel.test, groups=quakes$case)
panel.test <- edit(panel.test)
googleMap(~lat*long, data=quakes, panel=panel.test, groups=quakes$case)
googleMap(mag~lat*long, data=quakes, panel=panel.test, groups=quakes$case)
quakes$temp <- rep(1:10, length.out=nrow(quakes))
googleMap(mag~lat*long | temp, data=quakes, panel=panel.test, groups=quakes$case)
head(quakes)
panel.test <- edit(panel.test)
googleMap(mag~lat*long | temp, data=quakes)
googleMap(mag~lat*long | temp, data=quakes)
googleMap(mag~lat*long, data=quakes)
googleMap(mag~lat*long|temp, data=quakes)
